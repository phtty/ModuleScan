{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "openocd",
			"type": "shell",
			"command": "openocd",
			"args": [
				"-f", "interface/cmsis-dap.cfg",
				"-f", "target/stm32f4x.cfg",
			],
			"group": "none",
			"detail": "创建一个openocd会话",
			"problemMatcher": []
		},
		{
			"label": "telnet",
			"type": "shell",
			"command": "telnet localhost 4444",
			"group": "none",
			"detail": "使用telnet连接到openocd会话",
			"problemMatcher": []
		},
		{
			"label": "dbg_flash",
			"type": "shell",
			"command": "openocd",
			"args": [
				"-f", "interface/cmsis-dap.cfg",
				"-f", "target/stm32f4x.cfg",
				"-c", "init",
				"-c", "halt",
				"-c", "program ./build/Debug/${workspaceFolderBasename}.elf verify reset exit",
			],
			"group": "build",
			"detail": "烧录debug配置的程序",
		},
        {
			"label": "rls_flash",
			"type": "shell",
			"command": "openocd",
			"args": [
				"-f", "interface/cmsis-dap.cfg",
				"-f", "target/stm32f4x.cfg",
				"-c", "init",
				"-c", "halt",
				"-c", "program ./build/Release/${workspaceFolderBasename}.elf verify reset exit",
			],
			"group": "build",
			"detail": "烧录release配置的程序",
		},
		{
			"label": "chip erase",
			"type": "shell",
			"command": "openocd",
			"args": [
				"-f", "interface/cmsis-dap.cfg",
				"-f", "target/stm32f4x.cfg",
				"-c", "init",
				"-c", "halt",
				"-c", "flash erase_sector 0 0 last",
				"-c", "exit",
			],
			"group": "build",
			"detail": "全片擦除",
			"problemMatcher": []
		},
        {
			"label": "openocd_rtt",
			"type": "shell",
			"command": "openocd",
            "args": [
				"-f", "./.settings/rtt.cfg",
			],
			"group": "none",
			"detail": "openocd打开rtt服务端",
			"problemMatcher": []
		},
        {
			"label": "telnet_rtt",
			"type": "shell",
			"command": "telnet localhost 8888",
			"group": "none",
			"detail": "使用telnet连接到rtt会话",
			"problemMatcher": []
		},
	]
}